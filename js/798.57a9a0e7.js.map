{"version":3,"file":"js/798.57a9a0e7.js","mappings":"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","sources":["webpack://cft-test/./src/components/form-dynamic/dynamic-col.vue","webpack://cft-test/./src/components/form-dynamic/dynamic-button.vue","webpack://cft-test/src/components/form-dynamic/dynamic-button.vue","webpack://cft-test/./src/components/form-dynamic/dynamic-button.vue?9811","webpack://cft-test/./src/components/form-dynamic/dynamic-button.vue?9c61","webpack://cft-test/./src/components/form-dynamic/dynamic-form.vue","webpack://cft-test/./src/models/FormData.ts","webpack://cft-test/src/components/form-dynamic/dynamic-form.vue","webpack://cft-test/./src/components/form-dynamic/dynamic-form.vue?9506","webpack://cft-test/./src/components/form-dynamic/dynamic-form.vue?24d2","webpack://cft-test/./src/components/form-dynamic/dynamic-label.vue","webpack://cft-test/src/components/form-dynamic/dynamic-label.vue","webpack://cft-test/./src/components/form-dynamic/dynamic-label.vue?9330","webpack://cft-test/./src/components/form-dynamic/dynamic-label.vue?d2bb","webpack://cft-test/./src/components/form-dynamic/dynamic-text.vue","webpack://cft-test/src/components/form-dynamic/dynamic-text.vue","webpack://cft-test/./src/components/form-dynamic/dynamic-text.vue?3a09","webpack://cft-test/./src/components/form-dynamic/dynamic-text.vue?df9a","webpack://cft-test/src/components/form-dynamic/dynamic-col.vue","webpack://cft-test/./src/components/form-dynamic/dynamic-col.vue?325e","webpack://cft-test/./src/components/form-dynamic/dynamic-col.vue?8c86"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"col\",class:_vm.col.size},[(_vm.col.component)?[_c(_vm.col.component.name,_vm._g(_vm._b({tag:\"component\"},'component',{ row: _vm.row, col: _vm.col, formId: _vm.formId, value: _vm.value, ..._vm.col.component.props },false),{ onInput: _vm.onInput }),_vm._l((_vm.col.rows),function(row){return _c('dynamic-row',{key:row.id,attrs:{\"formId\":_vm.formId,\"rowId\":row.id}})}),1)]:(_vm.col.rows && _vm.col.rows.length)?_vm._l((_vm.col.rows),function(row){return _c('dynamic-row',{key:row.id,attrs:{\"formId\":_vm.formId,\"rowId\":row.id}})}):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('button',{staticClass:\"button\",attrs:{\"type\":_vm.type},on:{\"click\":_vm.onClick}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button class=\"button\"\n          :type=\"type\"\n          @click=\"onClick\">\n    {{title}}\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { DynamicComponentSetting } from '@/models/components/BaseDynamicComponent';\nimport DynamicButtonComponent      from '@/models/components/DynamicButtonComponent';\nimport Component                   from 'vue-class-component';\nimport {\n  Emit, Inject, Prop, Vue,\n} from 'vue-property-decorator';\n\n@Component\nexport default class DynamicButton extends Vue {\n  /**\n   * EventBus для сообщения между компонентами\n   */\n  @Inject('dynamic-form-bus') dynamicFormBus!: Vue;\n\n  /**\n   * (Событие) Нажатие на кнопку\n   * @param event\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  @Emit('click') onClick(event: Event) {\n    if (this.event) {\n      this.dynamicFormBus.$emit(this.event as string);\n    }\n  }\n\n  /**\n   * Настройки компонента\n   */\n  @Prop() settings!: DynamicButtonComponent['props']['settings'];\n\n  /**\n   * Тип кнопки (по умолчанию submit)\n   */\n  get type() {\n    const setting = this.settings.find((item) => item.name === 'type') as DynamicComponentSetting;\n    return setting.value;\n  }\n\n  /**\n   * Текст кнопки\n   */\n  get title() {\n    const setting = this.settings.find((item) => item.name === 'title') as DynamicComponentSetting;\n    return setting.value;\n  }\n\n  /**\n   * Вызываемое событие при нажатии\n   */\n  get event() {\n    const setting = this.settings.find((item) => item.name === 'event') as DynamicComponentSetting;\n    return setting.value;\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n$btn-text-color: #858585;\n$btn-border-color: #ebebeb;\n$btn-start-color: rgba(255, 255, 255, .06);\n$btn-end-color: rgba(176, 182, 187, .06);\n$btn-bg-color: #fff;\n$btn-box-shadow-color: rgba(22, 29, 37, .05);\n$btn-hover-border-color: rgba(0, 0, 0, .16);\n$btn-hover-box-shadow: rgba(22, 29, 37, .05);\n$btn-focus-border-color: #f4bd00;\n\n.button {\n  background: linear-gradient(\n    180deg,\n    $btn-start-color 0%,\n    $btn-end-color 100%), $btn-bg-color;\n  border: 1px solid $btn-border-color;\n  border-radius: 4px;\n  box-shadow: 0 1px 1px $btn-box-shadow-color;\n  box-sizing: border-box;\n  color: $btn-text-color;\n  font-size: 14px;\n  font-weight: 500;\n  height: 36px;\n  line-height: 16px;\n  min-width: 110px;\n  padding: 0;\n  position: relative;\n  top: -1px;\n  width: 100%;\n\n  &:hover {\n    border: 1px solid $btn-hover-border-color;\n    box-shadow: 0 1px 1px $btn-hover-box-shadow;\n  }\n\n  &:focus {\n    border-color: $btn-focus-border-color;\n    outline: none;\n  }\n\n  &:disabled {\n    cursor: no-drop;\n    opacity: .6;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-button.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-button.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./dynamic-button.vue?vue&type=template&id=60c1078e&scoped=true\"\nimport script from \"./dynamic-button.vue?vue&type=script&lang=ts\"\nexport * from \"./dynamic-button.vue?vue&type=script&lang=ts\"\nimport style0 from \"./dynamic-button.vue?vue&type=style&index=0&id=60c1078e&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60c1078e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('form',{attrs:{\"name\":_vm.name},on:{\"submit\":function($event){$event.preventDefault();}}},[_vm._v(\" \"+_vm._s(_vm.$log(JSON.stringify(_vm.form)))+\" \"),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// eslint-disable-next-line import/no-cycle\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Model }    from 'pinia-orm';\nimport { Str, Uid } from 'pinia-orm/dist/decorators';\n\nexport default class FormData extends Model {\n  static entity = 'formData';\n\n  /**\n   * ID\n   */\n  @Uid() declare id: string;\n\n  /**\n   * Данные компонента\n   */\n  @Str('') declare value: string;\n\n  /**\n   * ID модели Form\n   */\n  // eslint-disable-next-line camelcase\n  @Str('') declare form_id: string;\n\n  /**\n   * Сохранять в LocalStorage\n   */\n  static piniaOptions = {\n    persist: true,\n  }\n}\n\ndeclare module '@/models/model' {\n  export default interface ModelRegistry {\n    FormData: FormData;\n    // eslint-disable-next-line semi\n  }\n}\n","<template>\n  <form :name=\"name\" @submit.prevent>\n    {{$log(JSON.stringify(form))}}\n    <slot></slot>\n  </form>\n</template>\n\n<script lang=\"ts\">\nimport Col                         from '@/models/Col';\nimport { DynamicComponentSetting } from '@/models/components/BaseDynamicComponent';\nimport DynamicFormComponent        from '@/models/components/DynamicFormComponent';\nimport Form                        from '@/models/Form';\nimport FormData                    from '@/models/FormData';\nimport Row                         from '@/models/Row';\nimport { useRepo }                 from 'pinia-orm';\nimport Component                   from 'vue-class-component';\nimport { Prop, Provide, Vue }      from 'vue-property-decorator';\n\n@Component\nexport default class DynamicForm extends Vue {\n  @Provide('dynamic-form-bus') dynamicFormBus = new Vue();\n\n  /**\n   * Форма\n   */\n  @Prop() col!: Col;\n\n  /**\n   * Идентификатор формы\n   */\n  @Prop() formId!: number;\n\n  /**\n   * Настройки формы\n   */\n  @Prop() settings!: DynamicFormComponent['props']['settings'];\n\n  get form() {\n    return useRepo(Form).withAllRecursive(2).find(this.formId);\n  }\n\n  /**\n   * (HTML атрибут) name\n   */\n  get name() {\n    const setting = this.settings.find((item) => item.name === 'name') as DynamicComponentSetting;\n    return setting.value;\n  }\n\n  /**\n   * (Hook) created\n   */\n  created() {\n    this.dynamicFormBus.$on('clear', this.clearForm);\n  }\n\n  /**\n   * (Hook) beforeDestroy\n   */\n  beforeDestroy() {\n    this.dynamicFormBus.$off('clear', this.clearForm);\n  }\n\n  /**\n   * Очищение данных всех дочерних полей\n   */\n  clearForm() {\n    if (this.col.entityId) {\n      useRepo(FormData).where('id', this.col.entityId).update({ value: '' });\n    }\n    this.clear(this.col.rows);\n  }\n\n  /**\n   * Рекурсивное очищение полей от данных\n   * @param rows\n   * @private\n   */\n  private clear(rows: Row[]) {\n    rows.forEach((row1) => {\n      const row = useRepo(Row).with('cols').find(row1.id);\n\n      if (row && row.cols) {\n        row.cols.forEach((col1) => {\n          if (col1.entityId) {\n            useRepo(FormData)\n              .where('id', col1.entityId)\n              .update({ value: '' });\n          }\n\n          const col = useRepo(Col)\n            .with('rows')\n            .find(col1.id);\n\n          if (col && col.rows) {\n            this.clear(col.rows);\n          }\n        });\n      }\n    });\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-form.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-form.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./dynamic-form.vue?vue&type=template&id=569ccf77\"\nimport script from \"./dynamic-form.vue?vue&type=script&lang=ts\"\nexport * from \"./dynamic-form.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('label',{staticClass:\"label\",attrs:{\"for\":_vm.id}},[_c('div',{staticClass:\"label__text\"},[_vm._v(_vm._s(_vm.title))]),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <label class=\"label\" :for=\"id\">\n    <div class=\"label__text\">{{title}}</div>\n    <slot></slot>\n  </label>\n</template>\n\n<script lang=\"ts\">\nimport { DynamicComponentSetting } from '@/models/components/BaseDynamicComponent';\nimport DynamicInputComponent       from '@/models/components/DynamicInputComponent';\nimport Component                   from 'vue-class-component';\nimport { Prop, Vue }               from 'vue-property-decorator';\n\n@Component\nexport default class DynamicLabel extends Vue {\n  /**\n   * Настройки компонента\n   */\n  @Prop() settings!: DynamicInputComponent['props']['settings'];\n\n  /**\n   * (HTML атрибут) ID\n   */\n  get id() {\n    const setting = this.settings.find((item) => item.name === 'id') as DynamicComponentSetting;\n    return setting.value;\n  }\n\n  /**\n   * Текст label\n   */\n  get title() {\n    const setting = this.settings.find((item) => item.name === 'title') as DynamicComponentSetting;\n    return setting.value;\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.label {\n  display: block;\n\n  &__text {\n    margin-bottom: 5px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-label.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-label.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./dynamic-label.vue?vue&type=template&id=78c6a73e&scoped=true\"\nimport script from \"./dynamic-label.vue?vue&type=script&lang=ts\"\nexport * from \"./dynamic-label.vue?vue&type=script&lang=ts\"\nimport style0 from \"./dynamic-label.vue?vue&type=style&index=0&id=78c6a73e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78c6a73e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('input',{ref:\"inputElement\",staticClass:\"input\",attrs:{\"id\":_vm.id,\"type\":\"text\",\"autocomplete\":\"off\",\"placeholder\":_vm.placeholder,\"required\":_vm.required},domProps:{\"value\":_vm.value},on:{\"input\":_vm.onInput,\"invalid\":_vm.onInvalid}}),(_vm.isInvalid)?_c('UiError',{attrs:{\"error\":_vm.errorMsg}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- eslint-disable-next-line vuejs-accessibility/form-control-has-label -->\n    <input\n      :id=\"id\"\n      type=\"text\"\n      class=\"input\"\n      ref=\"inputElement\"\n      :value=\"value\"\n      autocomplete=\"off\"\n      :placeholder='placeholder'\n      :required='required'\n      @input=\"onInput\"\n      @invalid=\"onInvalid\"\n    />\n    <UiError v-if=\"isInvalid\" :error=\"errorMsg\"></UiError>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport UiError                     from '@/components/ui/ui-error.vue';\nimport Col                         from '@/models/Col';\nimport { DynamicComponentSetting } from '@/models/components/BaseDynamicComponent';\nimport DynamicInputComponent       from '@/models/components/DynamicInputComponent';\nimport Component                   from 'vue-class-component';\nimport {\n  Emit, Prop, Ref, Vue,\n}                                  from 'vue-property-decorator';\n\n@Component({\n  components: {\n    UiError,\n  },\n})\nexport default class DynamicText extends Vue {\n  /**\n   * (Emit) Изменение значения input\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  @Emit('onInput') onInput(event: KeyboardEvent) {\n    this.isInvalid = false;\n  }\n\n  /**\n   * Строка\n   */\n  @Prop() row!: Col;\n\n  /**\n   * Колонка\n   */\n  @Prop() col!: Col;\n\n  /**\n   * Значение для input\n   */\n  @Prop() value!: string;\n\n  /**\n   * ID формы\n   */\n  @Prop() formId!: number;\n\n  /**\n   * Настройки компонента\n   */\n  @Prop() settings!: DynamicInputComponent['props']['settings'];\n\n  /**\n   * Элемент input\n   */\n  @Ref('inputElement') inputElement!: HTMLInputElement;\n\n  /**\n   * Поле невалидно\n   */\n  isInvalid = false;\n\n  /**\n   * Сообщение с ошибкой\n   */\n  errorMsg = ''\n\n  /**\n   * (HTML атрибут) ID\n   */\n  get id() {\n    const setting = this.settings.find((item) => item.name === 'id') as DynamicComponentSetting;\n    return setting.value;\n  }\n\n  /**\n   * (HTML атрибут) placeholder\n   */\n  get placeholder() {\n    const setting = this.settings.find((item) => item.name === 'placeholder') as DynamicComponentSetting;\n    return setting.value;\n  }\n\n  /**\n   * (HTML атрибут) required\n   */\n  get required() {\n    const setting = this.settings.find((item) => item.name === 'required') as DynamicComponentSetting;\n    return setting.value;\n  }\n\n  onInvalid(event: Event) {\n    this.isInvalid = true;\n    this.errorMsg = 'Поле не должно быть пустым';\n    event.preventDefault();\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$border-color: #d5d5d5;\n$border-color-disabled: #cfcfcf;\n$bg-color: transparent; // 1\n$bg-color-hover: transparent;\n$border-color-hover: #e4e4e4;\n$shadow-color-focus: rgba(0, 0, 0, .1);\n$placeholder-text-color: #9b9997;\n$text-color: #37352f;\n$focus-border-color: #f4bd00;\n$box-shadow-inset-color: rgba(51, 51, 51, .15);\n\n.input {\n  background: $bg-color;\n  border: 1px solid $border-color;\n  border-radius: 3px;\n  box-shadow: inset 1px 1px 4px $box-shadow-inset-color;\n  box-sizing: border-box;\n  color: $text-color;\n  display: block;\n  font-size: 18px;\n  font-weight: 500;\n  height: 50px;\n  padding: 2px 0 0 18px;\n  transition: .2s all cubic-bezier(.4, 0, .2, 1);\n  width: 100%;\n\n  &::placeholder {\n    color: $placeholder-text-color;\n  }\n\n  &:hover {\n    background: $bg-color-hover;\n    border-color: $border-color-hover;\n  }\n\n  // sass-lint:disable no-important\n  &:focus {\n    border-color: $focus-border-color !important;\n    box-shadow: 0 3px 11px $shadow-color-focus;\n    outline: none;\n  }\n\n  &:disabled {\n    background: transparent;\n    border: 1px solid $border-color-disabled;\n    cursor: no-drop;\n    opacity: .4;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-text.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-text.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./dynamic-text.vue?vue&type=template&id=2ab99678&scoped=true\"\nimport script from \"./dynamic-text.vue?vue&type=script&lang=ts\"\nexport * from \"./dynamic-text.vue?vue&type=script&lang=ts\"\nimport style0 from \"./dynamic-text.vue?vue&type=style&index=0&id=2ab99678&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ab99678\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"col\" :class=\"col.size\">\n    <template v-if=\"col.component\">\n      <component :is=\"col.component.name\"\n                 v-on=\"{ onInput }\"\n                 v-bind=\"{ row, col, formId, value, ...col.component.props }\">\n        <dynamic-row v-for=\"row in col.rows\"\n                :formId=\"formId\"\n                :key=\"row.id\"\n                :rowId=\"row.id\"></dynamic-row>\n      </component>\n    </template>\n    <template v-else-if=\"col.rows && col.rows.length\">\n      <dynamic-row v-for=\"row in col.rows\"\n              :formId=\"formId\"\n              :key=\"row.id\"\n              :rowId=\"row.id\"></dynamic-row>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport DynamicButton from '@/components/form-dynamic/dynamic-button.vue';\nimport DynamicForm   from '@/components/form-dynamic/dynamic-form.vue';\nimport DynamicLabel  from '@/components/form-dynamic/dynamic-label.vue';\nimport DynamicText   from '@/components/form-dynamic/dynamic-text.vue';\nimport Col           from '@/models/Col';\nimport FormData      from '@/models/FormData';\nimport { useRepo }   from 'pinia-orm';\nimport Component     from 'vue-class-component';\nimport { Prop, Vue } from 'vue-property-decorator';\n\n@Component({\n  components: {\n    // Динамический импорт необходим, чтобы избежать циклической зависимости\n    DynamicRow: () => import('./dynamic-row.vue'),\n    DynamicLabel,\n    DynamicText,\n    DynamicForm,\n    DynamicButton,\n  },\n})\nexport default class DynamicCol extends Vue {\n  /**\n   * Строка\n   */\n  @Prop() row!: Col;\n\n  /**\n   * ID колонки\n   */\n  @Prop() colId!: string;\n\n  /**\n   * ID формы\n   */\n  @Prop() formId!: string;\n\n  /**\n   * Колонка\n   */\n  get col() {\n    return useRepo(Col)\n      .with('row')\n      .with('rows')\n      .with('component')\n      .find(this.colId) || new Col();\n  }\n\n  /**\n   * Запись FormData\n   * Данные, привязанные к колонке\n   * могут быть использованы с компонентами из ComponentsRegistry\n   */\n  get entityData() {\n    if (this.col.entityId) {\n      const FormDataRepo = useRepo(FormData);\n      const entity = FormDataRepo.find(this.col.entityId);\n\n      if (entity) {\n        return entity;\n      }\n    }\n\n    return new FormData();\n  }\n\n  /**\n   * Значение для компонента\n   */\n  get value() {\n    return this.col.component.name ? this.entityData.value : null;\n  }\n\n  /**\n   * (Handler) Вызов происходит при изменении значения компонента\n   */\n  onInput(event: KeyboardEvent) {\n    const target       = event?.target as HTMLInputElement;\n    const { value }    = target;\n    const FormDataRepo = useRepo(FormData);\n\n    // Если запись уже существует - обновляем\n    if (this.col.entityId) {\n      const entity = FormDataRepo.find(this.col.entityId);\n\n      if (entity) {\n        FormDataRepo.where('id', this.col.entityId)\n          .update({\n            ...entity,\n            value,\n          });\n      }\n\n    // Если нет - создаем\n    } else {\n      const entity = FormDataRepo.save({\n        form_id: this.formId,\n        value,\n      });\n\n      if (entity) {\n        this.col.entityId = entity.id;\n        useRepo(Col).save(this.col);\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-col.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dynamic-col.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./dynamic-col.vue?vue&type=template&id=742cb55e\"\nimport script from \"./dynamic-col.vue?vue&type=script&lang=ts\"\nexport * from \"./dynamic-col.vue?vue&type=script&lang=ts\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","class","col","size","component","name","_g","_b","tag","row","formId","value","props","onInput","_l","rows","key","id","attrs","length","_e","staticRenderFns","type","on","onClick","_v","_s","title","DynamicButton","Vue","constructor","args","_defineProperty","event","dynamicFormBus","$emit","setting","settings","find","item","__decorate","Inject","Emit","Prop","Component","$event","preventDefault","$log","JSON","stringify","form","_t","FormData","Model","persist","Uid","Str","DynamicForm","useRepo","Form","withAllRecursive","created","$on","clearForm","beforeDestroy","$off","entityId","where","update","clear","forEach","row1","Row","with","cols","col1","Col","Provide","DynamicLabel","ref","placeholder","required","domProps","onInvalid","isInvalid","errorMsg","DynamicText","Ref","components","UiError","DynamicCol","colId","entityData","FormDataRepo","entity","target","save","form_id","DynamicRow"],"sourceRoot":""}